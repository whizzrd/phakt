<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><HTML>
<HEAD>
<TITLE></TITLE>
</HEAD>
<BODY>
<A name=1></a><IMG src="PHAkt 2 MX Quick Reference Manual-1_1.jpg"><br>
<IMG src="PHAkt 2 MX Quick Reference Manual-1_2.jpg"><br>
<IMG src="PHAkt 2 MX Quick Reference Manual-1_3.jpg"><br>
<IMG src="PHAkt 2 MX Quick Reference Manual-1_4.jpg"><br>
<b>PHAkt 2 MX</b><br>
<b>Quick Reference </b><br>
<b>Manual</b><br>
version 2.1.0<br>
<hr>
<A name=2></a>PHAkt 2 MX Quick Reference Manual<br>
<b>Table of Contents</b><br>
<b>Introduction..............................................................................................................................................3</b><br>
<b>Prerequisites.............................................................................................................................................4</b><br>
<b>Project creation........................................................................................................................................4</b><br>
<b>Database creation....................................................................................................................................5</b><br>
<b>Search function........................................................................................................................................6</b><br>
<b>Results page.............................................................................................................................................7</b><br>
<b>Best practice....................................................................................................................................................11</b><br>
<b>Insert Form..............................................................................................................................................12</b><br>
<b>Best practice....................................................................................................................................................13</b><br>
<b>Delete Record.........................................................................................................................................15</b><br>
<b>Update Form...........................................................................................................................................16</b><br>
<b>Login Form..............................................................................................................................................17</b><br>
<b>Dynamic items........................................................................................................................................19</b><br>
<b>Miscellaneous........................................................................................................................................19</b><br>
http://www.interakt.ro<br>
Page 2<br>
<hr>
<A name=3></a>PHAkt 2 MX Quick Reference Manual<br>
<b>Introduction</b><br>
<b>Dreamweaver MX </b>offers the practical way to the user for create dynamic websites in a WYSWYG interface very<br>comfortably. As starting with the last version, it also supports PHP as a new server model, but only supports the<br>MySQL database server.<br>
Continuing our efforts for PHAkt 1 (PHP support in Dreamweaver Ultradev 4), we have created the only<br>alternative Server Model for Dreamweaver MX, PHAkt 2 MX. It allows database driven website development<br>with ease, adding new server behaviors over the original PHP_MySQL server model and allowing connection to<br>multiple databases. <br>
The main advantages of &quot;PHAkt 2&quot; over &quot;PHP_MySQL&quot; are:<br>
 <br>
Support for multiple databases in a transparent way<br>
 <br>
Support for MySQL, PostgreSQL and MsSQL date locales<br>
 <br>
User authentication Server Behaviors<br>
 <br>
Master/Detail Server Behaviors<br>
 <br>
Go to detail Page Server behaviors<br>
 <br>
Improved code generation (all reusable code is kept in a functions.inc.php file)<br>
 <br>
Multiple and extensible recordset support.<br>
 <br>
IIS and Apache 2 support by using absolute HTTP redirects.<br>
This extension uses the ADOdb extension (Active Data Objects for generic Database connectivity from PHP), a<br>database connection library for PHP, which allows connection to a lot of databases, similar with the Microsoft's<br>ADO library. Among others, the following databases are supported: MySQL, PostgreSOL, Interbase, Oracle, Ms<br>SQL 7, Foxpro, ACCESS, ADO, Sybase and ODBC. <br>
As a prerequisite for the creation of dynamic websites with &quot;PHAkt 2&quot;, the following software is necessary: <br>
Windows 95-2000<br>
http://www.microsoft.com<br>
or<br>
MAC OS<br>
http://www.apple.com<br>
Dreamweaver MX<br>
http://www.macromedia.com/<br>
The DWMX Extension &quot;PHAkt 2&quot;<br>
http://www.interakt.ro/products/PHAkt/<br>
Web Server e.g. Omnihttpd <br>
http://www.omnicron.ab.ca/httpd <br>
http://www.apache.org<br>
MySQL database (ATS version)<br>
http://www.mysql.com   <br>
PostgreSQL database<br>
http://www.postgresql.com<br>
optionally phpmyadmin<br>
http://www.phpwizard.net <br>
We<br>
have<br>
set<br>
up<br>
a<br>
complex<br>
discussion<br>
groups<br>
for<br>
<b>PHAkt2</b><br>
related<br>
problems<br>
at<br>
http://www.interakt.ro/products/bbs/?prodId=0<br>
Various resources offer extensions based on &quot;<b>PHAkt 2</b>&quot;, e.g. Massimo's php Form analysis. (check:<br>http://www.udzone.com/). There are also some very good connection tutorials for <b>PHAkt2 </b>usable for <b>PHAkt2</b>:<br>http://www.udzone.com/index.asp?TypeId=2&amp;CatId=398 <br>
http://www.interakt.ro<br>
Page 3<br>
<hr>
<A name=4></a>PHAkt 2 MX Quick Reference Manual<br>
Now let's start. We will create a small dynamic web application which contains a search function, a login system,<br>a data query, an insert, a delete and an update page. The whole is presented as small project in ten steps, to help<br>you learn something useful. The web application will manipulate an employee list, and you will find the finished<br>application in the attached archive.<br>
To be able to fully understand this tutorial you need in any case a certain knowledge of the software we use. One<br>should know how to create dynamic web pages using Dreamweaver MX and the appropriate Server Behaviors, or<br>a rough knowledge of how a web application server and the database operate. A more detailed guidance would<br>make this tutorial way too complicated, but you can always look in the Dreamweaver help, as PHAkt 2 GUI is<br>very similar with PHP_MySQL's one.<br>
At the end of this tutorial you should be able to publish your project on a public site. In practice the adjustments<br>made here are not portable, and you might encounter problems especially with the file and database access rights.<br>This tutorial will not deal with this issues, but further help can be found at: http://www.mysql.com/doc/. Database<br>connection security is however a very important issue and should be taken seriously. <br>
We will also not deal with the database fundamental mode of operation and configuration, that could be done here<br>too far. We assume this knowledge is already available. All methodologies described starting from point 2 can be<br>transferred to a large extent also to the work with Dreamweaver MX &amp; the ASP Server Model.<br>
All the files generated in this tutorial are present in the tutorial.zip file that is located in the same archive as this<br>document. The database creation script is also available in the archive, to ease the database creation. However,<br>you will have to configure your site and connection to suit your real configuration.<br>
The<br>
current<br>
bugs<br>
in<br>
PHAkt<br>
2<br>
are<br>
available<br>
online<br>
at<br>
&quot;PHAkt<br>
bug<br>
tracker&quot;<br>
located<br>
at<br>
http://www.interakt.ro/products/bt/<br>
<b>Prerequisites</b><br>
Install Macromedia Dreamweaver MX, a suitable web server with PHP 4.0.3pl1 minimum support (we use here<br>the very stable and fast Apache web server, other programs of this kind are available (IIS, OmniHttps)), Mysql<br>and the Dreamweaver extension <b>&quot;PHAkt2&quot;</b>. To manage the MySQL database we use the &quot;phpmyadmin&quot; web<br>tool, which has to be installed in the server root folder (htdocs). <br>
We will not supply installation guidance of the related products here, please use their provided Readme files or<br>on-line resources.<br>
First of all, you have to start with a correctly configured site. Name your site <i>phakt </i>. <br>
<b>Project creation</b><br>
Create in the general folder of the Web Servers (htdocs) a directory with the name &quot;phakt&quot;. Create in<br>Dreamweaver a new project, and we'll call it from now on &quot;phakt&quot;.<br>
Now create 6 empty files in the site root : <i>menu.php </i>, <i>update.php </i>, <i>search.php </i>, <i>list.php</i>, <i>input.php </i>, <i>delete.php</i>. In<br><i>menu.php  </i>create links to the other files.<br>
To enable PHP support, please select the Server Model to PHP_ADODB  (in the Testing server section).<br>
http://www.interakt.ro<br>
Page 4<br>
<hr>
<A name=5></a>PHAkt 2 MX Quick Reference Manual<br>
You also have to correctly configure the rest of the sections in the site administration wizard.<br>
<b>Important note </b>: In order to correctly test the generated pages, don't forget to upload on the server the new pages<br>you are creating. You also have to upload on the server the &quot;adodb&quot; and &quot;includes&quot; folders.<br>
<b>Database creation</b><br>
Make sure that the MySQL server is started then load &quot;phpmyadmin&quot; in the browser. Create a new database with<br>name &quot;phakt&quot;. <br>
The first table contains simple people information, while second table serves as dynamic menu on the page, in<br>order to enable to the user given values. The third table contains the access data for the Login area.<br>
<b>employees</b>_<b>emp</b>:<br>
<i><b>id_emp</b></i>(primary<br>
key,<br>
auto_increment),<br>
<i><b>firstname_emp</b></i><br>
(varchar(100)),<br>
<i><b>lastname_emp</b></i><br>
(varchar(100)),<br>
<i><b>address</b></i><br>
<i><b>_emp</b></i><br>
(Text),<br>
code_emp<br>
(mediumint),<br>
<i><b>email_emp</b></i><br>
(varchar(100)),<br>
<i><b>phon_emp</b></i><br>
(varchar(40)), <b><i>fax_emp</b></i> (varchar(40)), <b><i>childreno_emp</b></i>(int), <b><i>marital_emp</b></i> (int). <br>
<b>marital_mar</b>: <b><i>id_mar </b></i>(primary key, auto_increment), <b><i>status_mar </b></i>(varchar(100)) that will contain: single,<br>married, divorced, separated, radio_mar (tinyint) with the values 1 and 0, and checkbox_mar (tinyint) with the<br>values 1 and 0. <br>
<b>users_usr</b>: <b><i>id_usr</b></i> (primary key, auto_increment), <b><i>username_usr </b></i> (varchar(16)), <b><i>password_usr</b></i> (varchar(16)). <br>
Please find below a database visual representation (generated with our commercial product QuB).<br>
http://www.interakt.ro<br>
Page 5<br>
<hr>
<A name=6></a>PHAkt 2 MX Quick Reference Manual<br>
We use a naming convention to be able to manage the database fields with ease, and this consists in adding to<br>each table name an underscore and then a short name (3 letters), that will be also added in the fields name. As<br>you can see from the picture, all employees have a marital status, so we have created a foreign key to the<br>marital_mar table.<br>
To easily create the database, run the create_db.sql script from the tutorial folder in phpMyAdmin.<br>
<b>Search function</b><br>
We will start by creating a search function, that will have as input an employees name, code and address and<br>which will send those information to <i>list.php</i>.<br>
Its role is to create a lookup by name, code and address. Open the &quot;<i>search.php</i>&quot; file and create a form<br>containing three text input fields named &quot;<b><i>name</b></i>&quot;, &quot;<b><i>code</b></i>&quot; and &quot;<b><i>address</b></i>&quot;, and also a <b>Submit </b>and a <b>RESET </b>button.<br>Make the form action is <i>list.php</i> and its method is &quot;<b>GET</b>&quot;.<br>
http://www.interakt.ro<br>
Page 6<br>
<hr>
<A name=7></a><IMG src="PHAkt 2 MX Quick Reference Manual-7_1.jpg"><br>
PHAkt 2 MX Quick Reference Manual<br>
<b>Results page</b><br>
We have to create now a search result page, that will filter the employees table after the sent parameters. Open the<br>&quot;<i>list.php</i>&quot; file. We will create a connection in the first place, that will instruct the generated pages to connect<br>to the database. In the Application panel, the Databases tab, click on the &quot;<b>+</b>&quot; sign then create a new <b>ADODB<br>Connection</b>. Fill the form as described below:<br>
 <br>
<i><b>Connection name</b></i>: Name of the connection e.g. &quot;phaktconn&quot;- Connection type: Type of the connection<br>(permanent connection or normal connection)<br>
 <br>
<i><b>Database type</b></i>: Give the type of the database e.g. MySQL<br>
 <br>
<i><b>Database server</b></i>: Indicate the database host name: if you operate locally then put &quot;localhost &quot; <br>
 <br>
<i><b>User name</b></i>: the name of the user that is allowed to connect to the databases<br>
 <br>
<i><b>Password</b></i> : the user&quot;s password<br>
 <br>
<i><b>Database name</b></i>: the name of the database e.g. <b>phakt </b>(note that after filling all the textfields correctly, you can<br>click on the select button and select the database name from the list with the name of all databases).<br>
 <br>
<i><b>Date locale</b></i>: the format of the locale date (English, French, etc.)<br>This option brings the use of formatted date display to recordsets: in Insert/Update forms the date input can<br>now be made according to your locale settings (e.g. &quot;01-19-2002&quot; for english, &quot;19-01-2002&quot; for french). If the<br>database server doesn't accept local dates, this functionality is emulated by PHAkt through use of regular<br>expressions.<br>
 <br>
<i><b>Messages locale</b></i>: The language of some displayed messages<br>
http://www.interakt.ro<br>
Page 7<br>
<hr>
<A name=8></a>PHAkt 2 MX Quick Reference Manual<br>
 <br>
<i><b>Connection type </b></i>: this will make the generated code connect to the database using Pconnect or Connect<br>(Pconnect is the best connection type, but it's not supported by all Internet Service Providers)<br>
Test the connection by clicking on the <b>Test </b>button to check if the database binding is working properly. Then<br>click <b>OK</b>, and some new folders will be created in your site root. They are &quot;Connections&quot; (the connection files are<br>kept here), &quot;adodb&quot; (the ADOdb related files are stored here) and &quot;includes&quot; (where functions.inc.php, the file that<br>contains all reusable PHAkt2 functions is kept).<br>
In the <b>Application </b>panel, <b>Binding </b>tab, create a new recordset. As name for the recordset indicate &quot;<i>rsEmployees</i>&quot;.<br>As connection select &quot;phaktconn&quot;.<br>
In the recordset name right side there is a supplemental menu that allows you to select the recordset subtype: Safe<br>enables a &quot;better&quot; error handling of the recordset through the use of KT_error variable (a catching of the recordset<br>errors) for Insert/Update actions. If &quot;Standard&quot; is choosen, the default PHAkt 2 recordset is used.<br>
Select the table employees_emp now and click on the Button &quot;Advanced&quot;, to be able to create an advanced SQL<br>statement to filter the fields. Fill the SQL textarea with the following SQL statement: <br>
<i>SELECT</i><br>
<i>*</i><br>
<i>FROM</i><br>
<i>employees_emp</i><br>
<i>WHERE</i><br>
<i>firstname_emp</i><br>
<i>like</i><br>
<i>'%MMColParam1%'</i><br>
<i>and</i><br>
<i>code_emp like '%MMColParam2%' and address_emp like '%MMColParam3%'</i><br>
Fill the field Variables as shown below: <br>
<b>Name</b>                  <br>
<b>Default</b> <b>VALUE</b> <br>
<b>Run</b>-<b>Time</b> <b>VALUE</b> <br>
<i>MMColParam1</i><br>
<i>'%'</i><br>
<i>$HTTP_GET_VARS[&quot;name&quot;] </i><br>
<i>MMColParam2</i><br>
<i>'%'</i><br>
<i>$HTTP_GET_VARS[&quot;code&quot;] </i><br>
<i>MMColPararn3</i><br>
<i>'%'</i><br>
<i>$HTTP_GET_VARS[&quot;address&quot;] </i><br>
With this SQL statement the desired filtered resultset is obtained. The described syntax defines the SQL variables<br>obtained from a form. The result of the filtering depends, of course, on your personal conditions written in the<br>HTML form.<br>
<b>Tip</b>: If you want to use another variables as filters, use the &quot;Simple&quot; mode for creating recordsets, and use the<br>&quot;Filter&quot; inputs to customize your filter: the field to be filtered. In the next input, the operator to be applied to the<br>expression (=,&lt;,&gt;, etc), the type of variable used in the expression (URL GET variable, Form variable, cookie,<br>etc.) and finally the name of the variable to be used.<br>
http://www.interakt.ro<br>
Page 8<br>
<hr>
<A name=9></a>PHAkt 2 MX Quick Reference Manual<br>
Let's continue with the recordset result display. In the &quot;<i>list.php</i>&quot; file create now a table with two lines (one<br>for the headings and one for the information) and twelve columns. From the &quot;Bindings&quot; tab, expand the recordset<br>you've just created, drag-and-drop the recordset fields in each of the cells from the second line of the table, and fill<br>the cell above with the name of the field. In the last two columns of the second row write &quot;<b>Update</b>&quot; and &quot;<b>Delete</b>&quot;.<br>We'll transform those two cells in links to the corresponding pages in the following sections. Save the file.<br>
Test the filtering by loading in a browser the &quot;<i>search.php</i>&quot; file, but only after you have inserted some records<br>in the <i>employees_emp </i>table. Note that only the first line of the recordset is displayed, and not all the lines that<br>match the filter.<br>
In order to view all the records that match a specific filter, with a maximum number of records, we have to create<br>a &quot;<b>Repeat Region</b>&quot;. Select the second line of the table (this can be easily done by a single click in the left side of<br>the row) then from the &quot;<b>Server Behaviors</b>&quot; tab add the &quot;<b>Repeat</b> <b>Region</b>&quot; behavior. Insert the number of records to<br>be displayed (e.g. 5) , then click &quot;<b>OK</b>&quot;. Test again the filtering. Notice that the specified number of records is now<br>shown (or all the records, depending what you've selected in the &quot;<b>Repeat</b> <b>Region</b>&quot; dialog-box).<br>
To be able to navigate between the recordset records (if the results don't fit in the repeat region), we'll create a<br>navigation bar. With the &quot;<b>Recordset Paging</b>&quot; Server Behaviors you have the possibility to navigate in the filtered<br>
http://www.interakt.ro<br>
Page 9<br>
<hr>
<A name=10></a><IMG src="PHAkt 2 MX Quick Reference Manual-10_1.jpg"><br>
PHAkt 2 MX Quick Reference Manual<br>
records. Click on the &quot;<b>Recordset Paging/Move to Previous Page</b>&quot;, and select the recordset you've created then<br>click &quot;<b>OK</b>&quot;. A &quot;<b>Previous</b>&quot; link will appear. Do the same for the &quot;<b>Move to Next Record</b>&quot;. A &quot;<b>Next</b>&quot; link will<br>appear. <br>
Because the &quot;<b>Previous</b>&quot; and &quot;<b>Next</b>&quot; links does not have to be shown when there are no supplemental records to<br>show, we'll use the &quot;<b>Show Region</b>&quot; Server Behaviors to display the &quot;<b>Previous</b>&quot; and &quot;<b>Next</b>&quot; links depending on a<br>real need. For example, the &quot;<b>Previous</b>&quot; button must be shown only if the current Page is not the first page, and the<br>&quot;<b>Next</b>&quot; button must be shown only if there are other record pages to be shown. To add those Server Behaviors<br>over the Previous and Next links, simply select the desired area then click in the &quot;<b>Server Behaviors</b>&quot; menu on<br>&quot;<b>Show Region submenu</b>&quot; and select the appropriate condition (&quot;<b>Show if not First Page</b>&quot; and &quot;<b>Show if not Last<br>Page</b>&quot;.<br>
<b>Tip: </b>In the upper menu &quot;<b>Insert</b>&quot; you'll see a tab called <b>Application</b>. Clicking on it will present you the<br>
application objects that you can use to automatize some of your tasks. You can click in &quot;<b>Recordset Navigation<br>Bar</b>&quot; to automatically create a navigation bar. Simply indicate there the appropriate recordset and determine<br>whether it is to create links or use images for the. The buttons <b>First</b>, <b>Previous</b>, etc are created. If you use images,<br>the pictures are created automatically. <br>
Because usually you will create lists with only a subset of the information shown (for example our list should<br>have contained only the first name and the last name of the employee), it's a good practice to create a link from the<br>list to the real detail page, where all record information is shown.<br>
In order to display record details, create first a file named &quot;<i>detail</i>.<i>php</i>&quot; with containing a recordset that filters<br>the <i>employees_emp </i>table after the <b><i>id_emp </b></i>parameter received as <b>URL </b>Parameter. This will load in the recordset a<br>specific records from the <i>employees_emp </i> table. Drag the fields from the recordset on the screen.<br>
http://www.interakt.ro<br>
Page 10<br>
<hr>
<A name=11></a>PHAkt 2 MX Quick Reference Manual<br>
In the &quot;<i>list</i>.<i>php</i>&quot; page, select the field <b><i>id_emp </b></i>from the second table row, then and in the menu &quot;<b>Server<br>Behaviors</b>&quot; the option &quot;<b>Go To Detail Page</b>&quot;. You'll find there transfer parameters to the detail page. Select the<br>target, the recordset, the column of the recordset to be used, and the modality of passing the existing parameters:<br>as URL or as Form. For a very good reason the column should contain values which uniquely identify the selected<br>record (generally a key used as index, an ID). See the screenshot below for detailed configuration information.<br>
Please analyze the <i>detail</i>.<i>php</i> page from the tutorial for more details on this topic.<br>
<i><b>Best practice</b></i><br>
<b>PHAkt 2 </b>already has a features to create a result page including a navigation border and a detail page very fast.<br>The basic condition is that to create your recordset yourself. After you create it (you can start with a simple<br>recordset on the <i>employees_emp </i>table), click in the menu &quot;<b>Application</b>&quot; tab on &quot;<b>Master</b>/<b>Detail Set</b>&quot;. A form will<br>be shown, please fill it as instructed below: <br>
 <br>
<i><b>Recordset</b></i>: Indicate the record set to use. <br>
 <br>
<i><b>Master Page Fields</b></i>: Select which fields to be added in the List page.<br>
 <br>
<i><b>Link to Detail From</b></i>: Field used for linking the Master and the Detail Page<br>
 <br>
<i><b>Pass Unique Key</b></i>: A unique value identifying the record (generally an ID, a unique key)<br>
 <br>
<i><b>Show</b></i>: Number of records to be displayed in the Mater Page's list. (all or a specified number)<br>
 <br>
<i><b>Detail Page Name</b></i>: The name of the Detail Page<br>
http://www.interakt.ro<br>
Page 11<br>
<hr>
<A name=12></a>PHAkt 2 MX Quick Reference Manual<br>
¡<br>
<i><b>Detail Page Fields</b></i>:  Specify which fields to be displayed in the Detail page..<br>
After clicking on &quot;<b>OK</b>&quot; the appropriate Master &amp; Detail pages are generated.<br>
You can find the generated pages in the tutorial zip, the md/ folder.<br>
<b>Insert Form</b><br>
We'll continue by creating an insert form, to allow us to add records in the <i>employees_emp </i> table.<br>
Open the &quot;<i>input.php</i>&quot; file . Add text input fields for all table fields and, set their names exactly the same as<br>the columns in the <i>employees_emp </i>table. Don't forget to add the <b>Submit </b>and <b>Reset </b>buttons. For the <b><i>marital_emp<br></b></i>field, don't insert a text field, but a <b>List/Menu </b>named &quot;<b><i>marital_emp</b></i>&quot;. Create a recordset named <i>rsMar </i>that loads<br>all fields from the <i>marital_mar </i>table ordered by the <b><i>status_mar </b></i>field. Use the<br>
already created connection<br>
&quot;<i>phaktconn </i>&quot;.<br>
The inserted List/Menu &quot;<b><i>marital_emp</b></i>&quot; will be loaded with records from the <i>rsMar </i>recordset. Select it , the from<br>the &quot;<b>Servers Behaviors</b>&quot; &quot;<b>Dynamic Form Elements</b>&quot; click &quot;<b>Dynamic List/Menu</b>&quot;. Select the recordset &quot;<i>rsMar</i>&quot;,<br>to display data from the &quot;<b><i>marital_ma</b></i>r&quot;. Select the field you want to represent the data displayed in the List/Menu,<br>and the field you want to designate the values actually to be inserted (Label and Value).<br>
http://www.interakt.ro<br>
Page 12<br>
<hr>
<A name=13></a>PHAkt 2 MX Quick Reference Manual<br>
Click now in the &quot;<b>Server Behaviors </b>&quot; menu on &quot;<b>Insert Record</b>&quot;. A new window will appear, please fill the<br>widgets as instructed below:<br>
¡<br>
<i><b>From</b></i>: Gives the name of the form containing the data to be inserted.<br>
¡<br>
<i><b>Connection</b></i>:  the connection to the database.<br>
¡<br>
<i><b>Insert Table</b></i>: Specifies the table to insert into<br>
¡<br>
<i><b>After Inserting Go to</b></i>: Sets the page to be displayed after the insert is made.<br>
¡<br>
<i><b>Columns</b></i>: Sets the column in which the corresponding form element is stored.<br>
¡<br>
<i><b>Value</b></i>: specify the form input element that will be stored in the selected table column<br>
¡<br>
<i><b>Submit as</b></i>: Sets the type in which data from the corresponding form element is stored (text, date, number, etc.).<br>
Test the page you've just created by calling the document over the web server or the menu and input some data.<br>Call the data list and check whether the insert took place. <br>
<i><b>Best practice</b></i><br>
<b>PHAkt 2 </b>already has a feature implemented, that can create an Insert Form in a very efficient way. Click on the<br><b>Application </b>tab in the upper panel, then click on the &quot;<b>Record Insertion Form</b>&quot;. A window will be opened, into<br>which you must input the following: <br>
http://www.interakt.ro<br>
Page 13<br>
<hr>
<A name=14></a>PHAkt 2 MX Quick Reference Manual<br>
¡<br>
<i><b>Connection</b></i>:  Indicates the connection, e.g. &quot;phaktconn&quot;<br>
¡<br>
<i><b>Table</b></i>: Indicate the table to insert into<br>
¡<br>
<i><b>After Inserting Go to</b></i>: Indicate the page that will be loaded after the insert is made<br>
¡<br>
<i><b>Form Fields</b></i>:  Allow you to specify which fields will be part of the form<br>
¡<br>
<i><b>Label</b></i>: Indicates the name of the corresponding field. <br>
¡<br>
<i><b>Display As</b></i>: Sets the format in which the data is to be displayed.<br>
¡<br>
<i><b>Submit As</b></i>: Sets the format in which the data is stored in the table.<br>
¡<br>
<i><b>Default Value</b></i>: Sets a default value for the corresponding field. This value can be static, or originate from a<br>database.<br>
For the <b><i>marital_emp</b></i> field you have to create a special form field type that is a Menu type. Set the Display As field<br>as Menu, then configure the Menu as shown below.<br>
The final Record Insertion Form can be seen in the<i> input1.php</i> file.<br>
After clicking on &quot;<b>OK</b>&quot; the input form is generated.<br>
http://www.interakt.ro<br>
Page 14<br>
<hr>
<A name=15></a>PHAkt 2 MX Quick Reference Manual<br>
<b>Delete Record</b><br>
According to the same principle as the <b>Input Record</b>, a <b>Delete Record </b>can also be produced.<br>
Open the<br>
<i>list.php </i>file, select the &quot;<b>Delete</b>&quot; text in the right cells of the table, then add a <b>Go To Detail Page Server<br>Behavior</b>.<br>
Then open the &quot;<i>delete.php</i>&quot; file. <br>
Click now in the &quot;<b>Server Behaviors</b>&quot; menu on &quot;<b>Delete Record</b>&quot;. A popup window will appear and you have to<br>configure it as following:  <br>
¢<br>
<i><b>First Check if variable is defined</b></i>: Leave this as the &quot;Primary Key Value&quot;<br>
¢<br>
<i><b>Connection</b></i>: Give here the connection to the database e.g. &quot;phaktconn&quot;.<br>
¢<br>
<i><b>Table</b></i>: Set the table from to delete from<br>
¢<br>
<i><b>Primary Key Column</b></i>: Set the column that designates the unique key for the records in the table, and also<br>indicate id this values is numeric.<br>
¢<br>
<i><b>Primary Key Value</b></i>: Specify how the parameter will be passed to this form (in our case it's an URL parameter<br>named id_emp).<br>
¢<br>
<i><b>After Inserting Go to</b></i>: Sets the page to be displayed after the delete is made.<br>
Test your <b>Delete Record</b> feature by clicking on the <b>Delete</b> link in the <i>list.php</i> page.<br>
<b>Update Form</b><br>
To be able to update records from the <i>employees_emp </i>table, we'll have to create an Update Record file. Create an<br>empty &quot;<i>update.php</i>&quot; file. Open the list.php file, select the &quot;<b>Update</b>&quot; text in the right cells of the table, then add<br>a <b>Go To Detail Page Server Behavior</b>.<br>
http://www.interakt.ro<br>
Page 15<br>
<hr>
<A name=16></a>PHAkt 2 MX Quick Reference Manual<br>
Open the <i>update.php </i>file, then create a recordset <i>rsEmp </i>that filters the <i>employees_emp </i>table on the <b><i>id_emp<br></i>URL </b>Parameter. Also create a recordset <i>rsMar</i>, that loads all the fields from the <i>marital_mar </i>table ordered by<br><b><i>status_mar</b></i>.<br>
We'll create directly a Record Update form. From the <b>Application </b>tab in the <b>Insert </b>panel (upper region), click on<br>the <b>Record</b> <b>Update</b> <b>Form</b> button. A window will be opened, please configure it as instructed below.<br>
¢<br>
<i><b>Connection</b></i>:  Indicates the connection, e.g. &quot;phaktconn&quot;<br>
¢<br>
<i><b>Table to Update</b></i>: Indicates the database table, whose data should be updated (employees_emp).<br>
¢<br>
<i><b>Select Record From</b></i>: Indicate the recordset of the data which can be updated (in our case rsEmp)<br>
¢<br>
<i><b>Unique Key Column</b></i>: Indicates a field that uniquely identifies a row in a table (generally an unique ID, a key)<br>
¢<br>
<i><b>After Updating Go To</b></i>: Indicates a page, which is to be opened, after the data is updated <br>
¢<br>
<i><b>Form Fields</b></i>: Used to map the form fields with the table fields.<br>
¢<br>
<i><b>Label</b></i>: Sets the names (labels) of the corresponding field. <br>
¢<br>
<i><b>Display As</b></i>: Sets the format in which the data is to be displayed.<br>
¢<br>
<i><b>Submit As</b></i>: Sets the format in which the data is to be stored in the table.<br>
Please note that the <i>marital_emp </i>field will be generated in a menu created from database (<i>rsMar</i>). See the Insert<br>Record explanations above for more details.<br>
http://www.interakt.ro<br>
Page 16<br>
<hr>
<A name=17></a><IMG src="PHAkt 2 MX Quick Reference Manual-17_1.jpg"><br>
PHAkt 2 MX Quick Reference Manual<br>
After clicking on &quot;<b>OK</b>&quot; the update form is generated. <br>
The generated form will look like in the figure below:<br>
<b>Login Form</b><br>
The Authentication Server Behaviors are completely implemented and with &quot;<b>PHAkt2</b>&quot; you have the possibility to<br>easily create a database based Login. Create a new file named &quot;<i>failed.php</i>&quot;, to show the user that its login<br>attempt failed. Create a new document named &quot;<i>login.php</i>&quot; and open it in Dreamweaver MX. Add in a new<br>form two text fields, and set their names to &quot;<b><i>username</b></i>&quot; and &quot;<b><i>password</b></i>&quot;. The later can also be defined as<br>
http://www.interakt.ro<br>
Page 17<br>
<hr>
<A name=18></a>PHAkt 2 MX Quick Reference Manual<br>
password field, to mask the password characters.<br>
Click now in the menu &quot;<b>Server Behavior</b>s&quot; on &quot;<b>User Authentication</b>&quot; -&gt; &quot;<b>Log In User</b>&quot;. A window will appear,<br>please configure it as instructed below:<br>
¢<br>
<i><b>Get Input From Form</b></i>: Name of the form used for log in (see above) <br>
¢<br>
<i><b>Username Field</b></i>: The name of the field for the user name (&quot;username&quot;)<br>
¢<br>
<i><b>Password Field</b></i>: The name of the field for the password (&quot;password&quot;)<br>
¢<br>
<i><b>Validate Using Connection</b></i>: Name of the connection to the database e.g. &quot;phaktconn&quot; <br>
¢<br>
<i><b>Table</b></i>: The table with the access data in the database e.g. users_usr<br>
¢<br>
<i><b>Username Column</b></i>: Column with entries of the user names in the database (&quot;username_usr&quot;)<br>
¢<br>
<i><b>Password Column</b></i>: Column with entries of the passwords in the database (&quot;password_usr&quot;)<br>
¢<br>
<i><b>If Log In Succeeds, Go To</b></i>: Page to be opened if the Login attempt runs successfully (e.g. &quot;<i>list.php</i>&quot;)<br>
¢<br>
<i><b>If Log In Fails, Go To</b></i>: Page to be opened if the Login attempt fails (e.g.&quot;<i>failed.php</i>&quot;)<br>
¢<br>
<i><b>Restrict Access Based On</b></i>: Indicates here whether the Login attempt is to be checked on the basis by user<br>names and password, or whether the Login is to be based additionally on a group affiliation (here it is however<br>necessary to create in the database an additional column in which the appropriate groups the individual Users<br>are assigned, and indicate this column in DWMX).<br>
To really protect the site pages, you have to add the <b>Restrict Access to Pag</b>e Server Behavior to all and every<br>page (excepting of course<i> login.php</i>).<br>
To create a logout link, select a link, click in the menu on &quot;<b>Server Behaviors</b>&quot; --&gt; &quot;<b>User Authentication</b>&quot; -&gt;<br>&quot;<b>Logout User</b>&quot;. A dialog-box will open where you specify whether the logout takes place by clicking on a link or<br>on page load, and the page to be displayed after the logout (generally the login page).<br>
http://www.interakt.ro<br>
Page 18<br>
<hr>
<A name=19></a><IMG src="PHAkt 2 MX Quick Reference Manual-19_1.jpg"><br>
PHAkt 2 MX Quick Reference Manual<br>
<b>Dynamic items</b><br>
We'll continue by creating a new page, independent of the rest of the site. The goal is to see how we ca use<br>dynamic form elements. Create a new document named &quot;<i>dynamic.php</i>&quot;. Add a <b>RadioButton </b>named &quot;<b><i>radio</b></i>&quot;<br>and a <b>Checkbox </b>named &quot;<b><i>checkbox</b></i>&quot;. Add a recordset named &quot;<i>rsDyn</i>&quot;, as source for the inputs, select again the<br>well-known connection &quot;phaktconn&quot;. Set the recordset to load it's values from the marital_mar table.<br>
Select the Checkbox and click in the &quot;<b>Server Behaviors</b>&quot; menu on &quot;<b>Dynamic Form Elements</b>&quot; - &quot;<b>Dynamic<br>Check Box</b>&quot;. A dialog will appear, where you set the name of the Checkbox to be dynamized, the condition to<br>check the Checkbox to (&quot;<b>Check If</b>&quot; ... &quot;<b>Equals To</b>&quot; condition). If you click of the &quot;<b>lightning</b>&quot; button, you can<br>easily select the field from the recordset that enters in the condition. If you have more Checkboxes, repeat the<br>procedure for each of them.<br>
The procedure for the RadioButton is quite similar, and it will not be discussed further.<br>
Thus you can very easily create Dynamic RadioButtons, CheckBoxes, depending on the values from a database.<br>
<b>Miscellaneous</b><br>
&quot;<b>PHAkt2</b>&quot; also offers some very useful auxiliary functions.<br>
Weekly,<br>
<b>PHAkt2</b><br>
connects<br>
to<br>
the<br>
<b>InterAKT</b><br>
web<br>
site<br>
(the<br>
complete<br>
address<br>
is<br>
&quot;http://www.interakt.ro/demo/Krysalis/webapps/update/index.php?KTURL=information.pxp&amp;prodId=0&quot;)<br>
to<br>
retrieve its current version number and therefore to inform you if an update is available. This action is performed<br>weekly, only from the Dreamweaver MX pages containing <b>PHAkt2</b> recordsets.<br>
You can add a <b>Recordset Navigation Status </b>form <b>Application </b>tab in the <b>Insert </b>panel, that will display the<br>numbers of the records displayed(e.g. records 1-5 from 10). You have only to select the recordset used.<br>
That should be all. For supplemental information, don't forget to check http://www.interakt.ro/products/PHAkt/<br>for updates.<br>
http://www.interakt.ro<br>
Page 19<br>
<hr>
<A name=20></a><b>Copyrights and Trademarks</b><br>
Copyright - 2000-2002 by InterAKT Online, SRL.<br>
All Rights Reserved. This tutorial is subject to copyright protection.<br>
PHAkt, ImpAKT, NeXTensio, QuB, Transaction Engine are trademarks of InterAKT.<br>
All other trademarks are acknowledged as the property of their respective owners.<br>
This document and the product to which it pertains are distributed under licenses<br>
restricting their use, copying, distribution, and decompilation. No part of this document or<br>
of the associated product may be reproduced in any form by any means without prior<br>
written authorization of InterAKT Online, except when presenting only a summary of the<br>
tutorial and then linking to the InterAKT website.<br>
DOCUMENTATION IS PROVIDED &quot;AS IS&quot; AND ALL EXPRESS OR IMPLIED<br>
CONDITIONS, REPRESENTATIONS AND WARRANTIES, INCLUDING ANY<br>
IMPLIEDWARRANTY OF MERCHANTABILITY, FITNESS FOR A PARTICULAR<br>
PURPOSE OR NON-INFRINGEMENT, ARE DISCLAIMED, EXCEPT TO THE<br>
EXTENT THAT SUCH DISCLAIMERS ARE HELD TO BE LEGALLY INVALID.<br>
Send comments and suggestions to products@interakt.ro.<br>
<hr>
</BODY>
</HTML>
